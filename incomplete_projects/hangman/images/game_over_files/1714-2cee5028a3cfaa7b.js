"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1714],{68259:function(e,a,t){t.d(a,{Dv:function(){return r},Y0:function(){return o},by:function(){return d}});var s=t(5362),l=t(27218),n=t(13262),i=t(77930);function r(){var e;let a=(0,l.t)();return(0,s.WE)("/api/account/deletion-allowed",{queryKey:[n.gs,null==a?void 0:null===(e=a.account)||void 0===e?void 0:e.uuid],staleTime:0})}function d(e){return(0,s.WE)("/api/account_profile",{queryKey:[n.ec],...e})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,i.useQueryClient)();return(0,s.uC)("/api/account_profile","PUT",{...e,onSuccess:(t,s,l)=>{var i;a.invalidateQueries({queryKey:[n.ec]}),null===(i=e.onSuccess)||void 0===i||i.call(e,t,s,l)}})}},89469:function(e,a,t){t.d(a,{p:function(){return p}});var s=t(27573),l=t(28803),n=t(6415),i=t(81695),r=t(7653);let d=()=>{let e=(0,i.useRouter)(),a=(0,i.useSearchParams)(),t=(0,r.useMemo)(()=>{let e=new URLSearchParams;(null==a?void 0:a.has("model"))&&e.append("model",a.get("model")),(null==a?void 0:a.has("max_tokens"))&&e.append("max_tokens",a.get("max_tokens")),(null==a?void 0:a.has("speak"))&&e.append("speak",a.get("speak")),(null==a?void 0:a.has("t"))&&e.append("t",a.get("t")),(null==a?void 0:a.has("q"))&&e.append("q",a.get("q"));let t=e.toString();return t?"?".concat(t):""},[a]);return{push:(0,r.useCallback)(a=>e.push("".concat(a).concat(t)),[e,t]),replace:(0,r.useCallback)(a=>e.replace("".concat(a).concat(t)),[e,t])}};var o=t(45033),c=t(45790),u=t(5984),x=t(70354),m=t(52939),h=t(40950);function g(e){let{isOpen:a,onClose:t,initialName:n,conversationUUID:i}=e,d=(0,h.Z)(),{mutate:o,isPending:g}=(0,l.W)(i),[p,f]=(0,r.useState)(n);return(0,s.jsx)(m.u_,{isOpen:a,onClose:t,title:d.formatMessage({defaultMessage:"Rename chat",id:"Oi9LAY6C5H"}),children:(0,s.jsxs)("form",{className:"grid gap-2",onSubmit:e=>{e.preventDefault(),o({name:p}),t()},children:[(0,s.jsx)(u.oi,{"data-testid":"name-chat",autoFocus:!0,className:"mt-3",value:p,onChange:e=>f(e.target.value)}),(0,s.jsxs)(m.dm,{children:[(0,s.jsx)(x.z,{"data-testid":"name-chat-submit",type:"submit",disabled:g,children:(0,s.jsx)(c.Z,{defaultMessage:"Save",id:"jvo0vs3nF0"})}),(0,s.jsx)(x.z,{variant:"secondary",type:"button",onClick:t,disabled:g,children:(0,s.jsx)(c.Z,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})})}let p=e=>{let{conversation:a,initialName:t,open:u,onOpenChange:x,trigger:m}=e,[h,p]=(0,r.useState)(!1),[f,j]=(0,r.useState)(!1),{mutate:v}=(0,l.j1)(),b=(0,i.usePathname)(),y=d(),{mutate:N}=(0,l.Gk)(a.uuid),w=()=>{N({is_starred:!a.is_starred})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Lt,{align:"end",open:u,onOpenChange:x,trigger:m,unstyledTrigger:!0,children:(0,s.jsxs)("div",{children:[(0,s.jsx)(o.hP,{"data-testid":"star-chat-trigger",onSelect:()=>{w(),null==x||x(!1)},children:a.is_starred?(0,s.jsx)(c.Z,{defaultMessage:"Unstar",id:"Y5zRLWgCMP"}):(0,s.jsx)(c.Z,{defaultMessage:"Star",id:"VwapsmdMes"})}),(0,s.jsx)(o.u2,{}),(0,s.jsx)(o.hP,{"data-testid":"rename-chat-trigger",onSelect:()=>{p(!0),null==x||x(!1)},children:(0,s.jsx)(c.Z,{defaultMessage:"Rename",id:"iXNbPfQDIZ"})}),(0,s.jsx)(o.hP,{danger:!0,"data-testid":"delete-chat-trigger",onSelect:()=>{j(!0),null==x||x(!1)},children:(0,s.jsx)(c.Z,{defaultMessage:"Delete",id:"K3r6DQW7h+"})})]})}),(0,s.jsx)(n.p,{isOpen:f,onClose:()=>j(!1),onConfirm:()=>{v({uuid:a.uuid}),j(!1),b==="/chat/".concat(a.uuid)&&y.push("/new")}}),(0,s.jsx)(g,{conversationUUID:a.uuid,isOpen:h,initialName:t,onClose:()=>p(!1)})]})}},64791:function(e,a,t){t.d(a,{j:function(){return j}});var s=t(27573),l=t(27218),n=t(70354),i=t(45033),r=t(77003),d=t(7653),o=t(45790),c=t(18187),u=t(32559),x=t(27895),m=t(52939),h=t(40950);function g(e){let{isOpen:a,onClose:t,project:l}=e,{addError:i}=(0,x.e)(),r=(0,h.Z)(),{mutateAsync:d}=(0,u.dY)(l.uuid),c=async()=>{try{await d({is_archived:!0}),t()}catch(e){i(r.formatMessage({defaultMessage:"Could not archive",id:"3O1N877xLt"}))}};return(0,s.jsxs)(m.u_,{isOpen:a,onClose:t,modalSize:"md",children:[(0,s.jsx)("div",{className:"flex items-center gap-1",children:(0,s.jsx)("h2",{className:"font-styrene-display text-xl font-medium",children:(0,s.jsx)(o.Z,{defaultMessage:"Archive project",id:"sxTTUDY6HD"})})}),(0,s.jsx)("div",{className:"mb-6 mt-3",children:(0,s.jsx)(o.Z,{defaultMessage:"Are you sure you want to archive <strong>{projectName}</strong>?",id:"le3xsYo+U6",values:{strong:e=>(0,s.jsx)("strong",{className:"font-medium",children:e}),projectName:l.name}})}),(0,s.jsxs)("div",{className:"mt-2 flex justify-end gap-2",children:[(0,s.jsx)(n.z,{variant:"secondary",onClick:t,children:(0,s.jsx)(o.Z,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,s.jsx)(n.z,{variant:"danger",onClick:()=>{c()},children:(0,s.jsx)(o.Z,{defaultMessage:"Yes, archive",id:"wWN1otYIK8"})})]})]})}var p=t(5984);function f(e){let{isOpen:a,onClose:t,project:l}=e,[i,r]=(0,d.useState)(l.name),[c,g]=(0,d.useState)(l.description),f=(0,h.Z)(),{addError:j}=(0,x.e)(),{mutateAsync:v}=(0,u.dY)(l.uuid),b=async()=>{try{await v({name:i,description:c}),t()}catch(e){j(f.formatMessage({defaultMessage:"Error updating project, please try again later",id:"eLzspFmHkT"}))}};return(0,s.jsxs)(m.u_,{isOpen:a,onClose:t,modalSize:"md",children:[(0,s.jsx)("div",{className:"flex items-center gap-1",children:(0,s.jsx)("h2",{className:"font-styrene-display text-xl font-medium",children:(0,s.jsx)(o.Z,{defaultMessage:"Edit details",id:"BVWzJ5FL/Y"})})}),(0,s.jsxs)("div",{className:"mb-6 mt-3",children:[(0,s.jsx)(p.oi,{className:"mb-4 w-full",label:f.formatMessage({defaultMessage:"Name",id:"HAlOn1ZsuY"}),value:i,onChange:e=>r(e.target.value),required:!0}),(0,s.jsx)(p.Kx,{label:f.formatMessage({defaultMessage:"Description",id:"Q8Qw5BZ1VA"}),value:c,onChange:e=>g(e.target.value),minRows:6,required:!0,className:"max-h-60 overflow-auto"})]}),(0,s.jsxs)("div",{className:"mt-2 flex justify-end gap-2",children:[(0,s.jsx)(n.z,{variant:"secondary",onClick:t,children:(0,s.jsx)(o.Z,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,s.jsx)(n.z,{onClick:()=>{b()},children:(0,s.jsx)(o.Z,{defaultMessage:"Save",id:"jvo0vs3nF0"})})]})]})}let j=e=>{var a;let{star:t=!0,project:x,iconSize:m=16,buttonSize:h="icon_sm",open:p,onOpenChange:j}=e,[v,b]=(0,d.useState)(!1),[y,N]=(0,d.useState)(!1),{mutate:w}=(0,u.dY)(x.uuid),C=null!==x.archived_at,{account:M}=(0,l.t)(),{data:Z}=(0,c.SE)(x.uuid),z=null!==(a=null==Z?void 0:Z.some(e=>e.account.uuid===(null==M?void 0:M.uuid)&&"user"===e.role))&&void 0!==a&&a;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Lt,{align:"end",open:p,onOpenChange:j,trigger:(0,s.jsx)(n.z,{variant:"ghost",className:"active:!scale-100 pointer-events-auto",size:h,onClick:e=>{e.stopPropagation(),e.preventDefault()},onMouseDown:e=>{e.stopPropagation(),e.preventDefault()},children:(0,s.jsx)(r.x,{weight:"bold",size:m})}),unstyledTrigger:!0,children:(0,s.jsxs)("div",{children:[t&&(0,s.jsx)(i.hP,{"data-testid":"star-project-trigger",onSelect:()=>{w({is_starred:!x.is_starred})},children:x.is_starred?(0,s.jsx)(o.Z,{defaultMessage:"Unstar",id:"Y5zRLWgCMP"}):(0,s.jsx)(o.Z,{defaultMessage:"Star",id:"VwapsmdMes"})}),t&&z&&(0,s.jsx)(i.u2,{}),z&&(0,s.jsxs)(s.Fragment,{children:[!C&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.hP,{"data-testid":"rename-project-trigger",onSelect:()=>b(!0),children:(0,s.jsx)(o.Z,{defaultMessage:"Edit details",id:"BVWzJ5FL/Y"})}),(0,s.jsx)(i.hP,{danger:!0,"data-testid":"archive-project-trigger",onSelect:()=>N(!0),children:(0,s.jsx)(o.Z,{defaultMessage:"Archive",id:"hrgo+EleAn"})})]}),C&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.u2,{}),(0,s.jsx)(i.hP,{className:"text-danger-000",onClick:()=>{w({is_archived:!1})},children:(0,s.jsx)(o.Z,{defaultMessage:"Unarchive",id:"ftDYZo4V2C"})})]})]})]})}),(0,s.jsx)(f,{isOpen:v,onClose:()=>b(!1),project:x}),(0,s.jsx)(g,{isOpen:y,onClose:()=>N(!1),project:x})]})}},71714:function(e,a,t){t.d(a,{c:function(){return eC},u:function(){return ew}});var s=t(27573);t(5362);var l=t(27218),n=t(11579),i=t(70354),r=t(32737),d=t(4801),o=t(26244);let c=e=>{let{size:a}=e;return(0,s.jsxs)(o.A,{size:a,className:"group",children:[(0,s.jsx)("path",{className:"group-hover:-translate-x-[0.5px] transition group-active:translate-x-0",fillRule:"evenodd",clipRule:"evenodd",d:"M9 2C5.96243 2 3.5 4.46243 3.5 7.5C3.5 8.66827 3.86369 9.75009 4.48403 10.6404C4.6225 10.8391 4.59862 11.1085 4.42735 11.2798L2.70711 13H9C12.0376 13 14.5 10.5376 14.5 7.5C14.5 4.46243 12.0376 2 9 2ZM2.5 7.5C2.5 3.91015 5.41015 1 9 1C12.5898 1 15.5 3.91015 15.5 7.5C15.5 11.0899 12.5898 14 9 14H1.5C1.29777 14 1.11545 13.8782 1.03806 13.6913C0.960669 13.5045 1.00345 13.2894 1.14645 13.1464L3.43405 10.8588C2.84122 9.87838 2.5 8.72844 2.5 7.5Z"}),(0,s.jsx)("path",{className:"group-hover:translate-x-[0.5px] transition group-active:translate-x-0",fillRule:"evenodd",clipRule:"evenodd",d:"M16.2996 9.64015C16.5527 9.52951 16.8474 9.64493 16.9581 9.89794C17.0204 10.0405 17.0778 10.1857 17.13 10.3334C17.3698 11.0117 17.5 11.7412 17.5 12.5C17.5 13.7284 17.1588 14.8784 16.5659 15.8588L18.8535 18.1464C18.9965 18.2894 19.0393 18.5045 18.9619 18.6913C18.8845 18.8782 18.7022 19 18.5 19H11C8.59344 19 6.493 17.6919 5.36988 15.7504C5.23161 15.5113 5.31329 15.2055 5.55232 15.0672C5.79135 14.9289 6.09721 15.0106 6.23548 15.2496C7.18721 16.8949 8.96484 18 11 18H17.2929L15.5726 16.2798C15.4014 16.1085 15.3775 15.8391 15.516 15.6404C16.1363 14.7501 16.5 13.6683 16.5 12.5C16.5 11.8563 16.3896 11.2394 16.1872 10.6666C16.143 10.5418 16.0946 10.4191 16.0419 10.2986C15.9312 10.0456 16.0466 9.75079 16.2996 9.64015Z"})]})},u=e=>{let{size:a}=e;return(0,s.jsxs)(o.A,{size:a,className:"group",children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.65937 7.70267C1.53655 6.80203 2.23664 6 3.14561 6H16.8544C17.7634 6 18.4634 6.80203 18.3406 7.70267L17.1134 16.7027C17.012 17.4459 16.3772 18 15.6271 18H4.37289C3.62278 18 2.98799 17.4459 2.88664 16.7027L1.65937 7.70267ZM3.14561 7C2.84262 7 2.60926 7.26734 2.6502 7.56756L3.87747 16.5676C3.91125 16.8153 4.12285 17 4.37289 17H15.6271C15.8771 17 16.0887 16.8153 16.1225 16.5676L17.3498 7.56756C17.3907 7.26734 17.1574 7 16.8544 7H3.14561Z"}),(0,s.jsx)("path",{className:"group-hover:-translate-y-[0.5px] transition group-active:translate-y-0",fillRule:"evenodd",clipRule:"evenodd",d:"M3 4.5C3 4.22386 3.22386 4 3.5 4H16.5C16.7761 4 17 4.22386 17 4.5C17 4.77614 16.7761 5 16.5 5H3.5C3.22386 5 3 4.77614 3 4.5Z"}),(0,s.jsx)("path",{className:"group-hover:-translate-y-px transition group-active:translate-y-0",fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 2.5C4.5 2.22386 4.72386 2 5 2H15C15.2761 2 15.5 2.22386 15.5 2.5C15.5 2.77614 15.2761 3 15 3H5C4.72386 3 4.5 2.77614 4.5 2.5Z"})]})};var x=t(1133),m=t(85069),h=t(87033),g=t(88755),p=t(96346),f=t(10607),j=t(68425),v=t(88146),b=t(7653),y=t(40950),N=t(45790),w=t(77879),C=t(95622),M=t(81695),Z=t(15281),z=t(52939),k=t(61421),_=t(91217);let S=e=>{let{isOpen:a,onClose:t}=e,{account:n}=(0,l.t)(),i=(0,Z.w)();return((0,b.useEffect)(()=>{let e=e=>{"Escape"===e.key&&a&&(e.preventDefault(),t())};return a&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[a,t]),n)?(0,s.jsx)(z.u_,{isOpen:a,onClose:t,modalSize:"xl",backgroundColor:"bg-transparent",className:"!shadow-none border-none !p-0",children:(0,s.jsx)(_.x,{willRedirectOnSubmit:!0,onCreate:async e=>(t(),await i(e)),children:(0,s.jsx)(k.x,{placement:"modal"})})}):null},P=e=>{let{openNewChatModal:a}=e,t=(0,M.useRouter)(),s=(0,M.usePathname)(),{value:l}=(0,h.FL)("new_chat_modal"),n=(0,b.useCallback)(()=>{"/new"!==s&&(l?a():t.push("/new"))},[a,t,l,s]);return(0,C.H9)(C.LT.cmdK,n),(0,b.useEffect)(()=>{let e=e=>{var a;let t=(0,x.V5)()?e.metaKey:e.ctrlKey;(null===(a=e.key)||void 0===a?void 0:a.toLowerCase())==="k"&&t&&(e.preventDefault(),n())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n]),null},L=()=>{let[e,a]=(0,b.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(P,{openNewChatModal:()=>a(!0)}),(0,s.jsx)(S,{isOpen:e,onClose:()=>a(!1)})]})};var D=t(95586),F=t(35102),E=t(41596),R=t(8322),O=t(3053),A=t(8571),I=t(20823),W=t(83617),H=t(9788),U=t(835);let Y=e=>{var a,t,l;let{account:n,size:i,variant:r}=e,d=null!==(l=null!==(t=null!==(a=null==n?void 0:n.full_name)&&void 0!==a?a:null==n?void 0:n.display_name)&&void 0!==t?t:null==n?void 0:n.email_address)&&void 0!==l?l:"";return(0,s.jsx)(U.q,{name:d,size:i,variant:r})},T=e=>{let{size:a,variant:t}=e,{account:n}=(0,l.t)(),i=(0,l.ZJ)(),r=(0,l.ue)();return(0,s.jsx)(Y,{account:n||null,size:a,variant:null!=t?t:i||r?"pro":"default"})};var K=t(45033),Q=t(7992),V=t(60983),q=t(82780),J=t(85689),B=t(7533),G=t(21520),$=t.n(G),X=t(72358),ee=t(66894),ea=t(68259);let et={type:"language",languageDisplay:"standard"},es=(0,b.forwardRef)((e,a)=>{let t=(0,y.Z)(),{isPending:l,mutateAsync:n}=(0,ea.Y0)(),i=t.locale,r=async e=>{e!==i&&(await n({locale:e}),window.location.reload())},d=(0,b.useMemo)(()=>{let e=t.formatters.getDisplayNames(X.ZW,et),a=new Intl.Collator(X.ZW);return X.Yr.map(a=>({locale:a,name:e.of(a),localName:t.formatters.getDisplayNames(a,et).of(a)})).toSorted((e,t)=>a.compare(e.name,t.name))},[t.formatters]);return(0,s.jsxs)(K.Vy,{children:[(0,s.jsxs)(K.WR,{ref:a,className:"text-sm",children:[(0,s.jsxs)("span",{children:[(0,s.jsx)(N.Z,{defaultMessage:"Language",id:"y1Z3orIe9Z"}),(0,s.jsx)("span",{className:"inline-block",children:(0,s.jsx)(W.C,{className:"mb-0.5 ml-2",uppercase:!0,children:(0,s.jsx)(N.Z,{defaultMessage:"Beta",id:"riw/yc06Nq"})})})]}),(0,s.jsx)(V.T,{size:16})]}),(0,s.jsx)(K.nI,{children:(0,s.jsxs)(K.A2,{sideOffset:4,children:[d.map(e=>(0,s.jsxs)(K.hP,{onSelect:()=>r(e.locale),disabled:l,children:[(0,s.jsx)("div",{className:"flex items-center gap-2 pr-4 text-sm capitalize",children:e.localName}),e.locale===i?(0,s.jsx)(J.J,{size:16}):(0,s.jsx)("div",{className:"h-4 w-4"})]},e.locale)),(0,ee.Ry)()&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(K.u2,{}),Object.keys(X.GN).map(e=>(0,s.jsxs)(K.hP,{onSelect:()=>r(e),disabled:l,children:[(0,s.jsx)("div",{className:"flex items-center gap-2 pr-4 text-sm capitalize",children:X.GN[e].name}),e===i?(0,s.jsx)(J.J,{size:16}):(0,s.jsx)("div",{className:"h-4 w-4"})]},e))]})]})})]})});function el(){let e=(0,E._)(["fixed top-2.5 right-3.5 z-10 flex flex-row items-center gap-2"]);return el=function(){return e},e}es.displayName="LanguagePicker";let en=()=>(0,s.jsx)(Q.O,{size:16,className:"ml-2 -mr-2"});function ei(e){let{trigger:a,matchTriggerWidth:t=!0,onOpenChange:n,className:r}=e,d=(0,y.Z)(),{track:o}=(0,O.z$)(),{account:c}=(0,l.t)(),u=null==c?void 0:c.memberships.map(e=>e.organization),m=null==u?void 0:u.some(e=>e.capabilities.includes("api")),j=(0,A.m)(),{value:b}=(0,h.FL)("claude_ai_cumin"),{value:w}=(0,h.FL)("claude_ai_intercom"),C=(0,I.o)(),{value:M}=(0,h.FL)("claude_max_enabled"),Z=(0,g.Q)(),z=((0,x.V5)()||(0,x.ED)())&&!Z,k=(0,s.jsxs)(i.z,{variant:"unstyled",size:"unset",className:"border-0.5 border-border-300 hover:border-border-200 group relative z-[1] w-full overflow-hidden rounded-lg !px-2.5 !py-2 !text-left","data-testid":"user-menu-button",children:[(0,s.jsx)("div",{className:"from-bg-500/0 to-bg-500/40 absolute inset-0 bg-gradient-to-b opacity-70 transition-opacity group-hover:opacity-100"}),(0,s.jsxs)("div",{className:"relative z-[5] flex w-full items-center gap-1.5",children:[(0,s.jsx)(T,{size:"sm"}),(0,s.jsx)("div",{className:"min-w-0 flex-1 truncate text-sm",children:null==c?void 0:c.email_address}),(0,s.jsx)(p.p,{size:12})]})]});return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(K.Lt,{matchTriggerWidth:t,align:"end",unstyledTrigger:!0,trigger:a||k,onOpenChange:e=>{null==n||n(e)},className:(0,f.Z)("w-72",r),children:[(0,s.jsx)(er,{}),(0,s.jsx)(K.u2,{}),(0,s.jsx)(K.hP,{asChild:!0,"data-testid":"user-menu-settings",children:(0,s.jsx)(v.default,{href:"/settings/profile",className:"text-sm",children:(0,s.jsx)(N.Z,{defaultMessage:"Settings",id:"D3idYvSLF9"})})}),M&&(0,s.jsx)(K.hP,{asChild:!0,children:(0,s.jsxs)(v.default,{href:"/upgrade",className:"text-sm flex items-center",children:[(0,s.jsx)(N.Z,{defaultMessage:"View all plans",id:"hSNxZTzZks"}),(0,s.jsx)(W.C,{color:"secondary",size:"lg",children:(0,s.jsx)(N.Z,{defaultMessage:"New",id:"bW7B87wFFp"})})]})}),b&&(0,s.jsx)(K.hP,{asChild:!0,children:(0,s.jsx)(es,{})}),w&&C&&(0,s.jsx)(K.hP,{onSelect:()=>{o({event_key:"claudeai.get_help.clicked"}),C.update({hideDefaultLauncher:!1}),C.show()},className:"text-sm intercom-launcher",children:(0,s.jsx)(N.Z,{defaultMessage:"Get help",id:"9OuUCLqQgd"})}),(0,s.jsx)(K.u2,{}),(0,s.jsxs)(K.Vy,{children:[(0,s.jsxs)(K.WR,{className:"text-sm",children:[(0,s.jsx)(N.Z,{defaultMessage:"Learn more",id:"TdTXXf940t"}),"\xa0",(0,s.jsx)(V.T,{size:16})]}),(0,s.jsx)(K.nI,{children:(0,s.jsxs)(K.A2,{sideOffset:4,children:[m&&(0,s.jsx)(K.hP,{asChild:!0,children:(0,s.jsx)(v.default,{href:j.consoleAbsoluteUrl,target:"_blank",className:"text-sm",children:(0,s.jsxs)("span",{className:"flex items-center justify-between w-full",children:[(0,s.jsx)(N.Z,{defaultMessage:"API Console",id:"CfiNwKIPP1"}),(0,s.jsx)(en,{})]})})}),(0,s.jsx)(ec,{name:d.formatMessage({defaultMessage:"About Anthropic",id:"Cm+OGj8nZs"}),path:"/"}),(0,s.jsx)(K.u2,{}),(0,s.jsx)(ec,{name:d.formatMessage({defaultMessage:"Usage policy",id:"2hfc4AKs6b"}),path:"/legal/aup"}),(0,s.jsx)(ec,{name:d.formatMessage({defaultMessage:"Privacy policy",id:"cPwv2cbzf2"}),path:"/legal/privacy"})]})})]}),z&&(0,s.jsx)(K.hP,{asChild:!0,className:"pr-0",children:(0,s.jsx)(v.default,{href:"/download",target:"_blank",className:"text-sm",children:(0,s.jsxs)("span",{className:"flex items-center justify-between w-full",children:[(0,x.V5)()?(0,s.jsx)(N.Z,{defaultMessage:"Download Claude for Mac",id:"BobP7MV3sG"}):(0,s.jsx)(N.Z,{defaultMessage:"Download Claude for Windows",id:"qZjfHa3uMI"}),(0,s.jsx)(Q.O,{size:16})]})})}),(0,s.jsx)(K.u2,{}),"",(0,s.jsx)(K.hP,{asChild:!0,children:(0,s.jsx)(v.default,{href:"/logout",className:"text-sm",children:(0,s.jsx)("span",{className:"flex items-center",children:(0,s.jsx)(N.Z,{defaultMessage:"Log out",id:"PlBReUqqzW"})})})})]})})}let er=()=>{let{account:e}=(0,l.t)(),a=(0,b.useMemo)(()=>{var a;return null!==(a=null==e?void 0:e.memberships.map(e=>e.organization))&&void 0!==a?a:[]},[e]),t=(0,b.useMemo)(()=>$()(a.filter(e=>e.capabilities.includes("chat")),e=>!e.capabilities.includes("raven"),"name"),[a]),n=t.some(e=>e.capabilities.includes("raven"));return(0,s.jsx)(s.Fragment,{children:e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(K.HF,{className:"text-sm pb-2 overflow-ellipsis truncate",children:null==e?void 0:e.email_address}),t.map(e=>(0,s.jsx)(ed,{org:e,hasTeam:n},e.uuid))]})})},ed=e=>{let{org:a,hasTeam:t}=e,n=(0,y.Z)(),{switchAndRefresh:i}=(0,R.z6)(),{activeOrganization:r}=(0,l.t)(),d=(0,l.gQ)(a),o=(0,M.usePathname)(),c=d?"Enterprise":a.capabilities.includes("raven")?"Team":a.capabilities.includes("claude_pro")?"Pro":a.capabilities.includes("claude_max")?"Max":"Free",u=a.uuid===(null==r?void 0:r.uuid),x=a.capabilities.includes("raven")?a.name:n.formatMessage({defaultMessage:"Personal",id:"NDx+B0BTac"}),m=(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:(0,f.Z)("flex items-center gap-2 w-full",u?"cursor-default":"cursor-pointer"),children:[(0,s.jsx)(eo,{org:a}),(0,s.jsxs)("div",{className:"flex flex-col overflow-hidden grow",children:[(0,s.jsx)("span",{className:"truncate text-text-100 text-sm",children:x}),(0,s.jsxs)("div",{className:"text-xs",children:[(0,s.jsx)("span",{className:"text-text-300",children:(0,s.jsx)(N.Z,{defaultMessage:"{plan} plan",id:"oK+PGPHfhv",values:{plan:c}})}),"Free"===c&&u&&t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(q.o,{size:12,className:"inline"}),(0,s.jsx)(v.default,{href:"/upgrade",className:"text-text-000 hover font-medium transition-all",children:(0,s.jsx)(N.Z,{defaultMessage:"Upgrade",id:"0h/lPMeYkq"})})]})]})]}),u&&(0,s.jsx)(J.J,{weight:"bold",className:"flex-shrink-0 text-accent-secondary-100 h-4 w-4"})]})});return u?(0,s.jsx)(K.AZ,{children:m}):(0,s.jsx)(K.hP,{onSelect:()=>{o.startsWith("/chat/")?i(a.uuid,"/chats"):i(a.uuid)},children:m})},eo=e=>{let{org:a}=e,t=a.capabilities.includes("raven"),l=t?(0,s.jsx)(B.$,{size:16}):(0,s.jsx)(T,{size:"sm",variant:"cardamom"});return(0,s.jsx)("div",{className:(0,f.Z)("flex-shrink-0 flex h-7 w-7 items-center justify-center rounded-full bg-bg-400 text-text-300",t&&"rounded-sm"),children:l})},ec=e=>{let{name:a,path:t}=e,{websiteBaseUrl:l}=(0,A.m)();return(0,s.jsx)(K.hP,{asChild:!0,children:(0,s.jsx)(v.default,{href:"".concat(l).concat(t),target:"_blank",className:"text-sm",children:(0,s.jsxs)("span",{className:"flex items-center justify-between w-full",children:[(0,s.jsx)("span",{children:a}),(0,s.jsx)(en,{})]})})})};H.q.div(el());var eu=t(77003),ex=t(18780),em=t(32559),eh=t(89469),eg=t(64791),ep=t(20355);function ef(e){let{type:a,href:t,CustomIcon:l,onClick:n=()=>void 0,children:d,tooltipContent:o,isExpanded:c,uuid:u,size:x="default",conversation:m}=e,h=(0,M.usePathname)()===t&&"more"!==a,[g,p]=(0,b.useState)(!1),{closeSidebarOnMobile:j,isMobile:v}=(0,ep.S)(),{data:y}=(0,em.Yc)("project"===a?u:void 0);return(0,s.jsx)(r.u,{delayDuration:0,disableHoverableContent:!0,tooltipContent:!c&&!v&&o,side:"right",children:(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)(i.z,{"aria-label":o,href:t,onLinkClick:e=>{n(e),j()},variant:"ghost",size:x,className:(0,f.Z)(h&&"!bg-bg-400","w-full hover:bg-bg-300 overflow-hidden !min-w-0 group active:bg-bg-400 active:scale-[0.99] px-4"),children:(0,s.jsxs)("div",{className:"-translate-x-2 w-full flex flex-row items-center justify-start gap-3",children:[l&&(0,s.jsx)("div",{className:"size-4 flex items-center justify-center group-hover:!text-text-200 text-text-400",children:l}),"more"===a&&(0,s.jsx)(ex.i,{size:18,className:"shrink-0 "}),(0,s.jsx)("span",{className:(0,f.Z)("truncate group-hover:[mask-image:linear-gradient(to_right,hsl(var(--always-black))_78%,transparent_95%)] group-focus-within:[mask-image:linear-gradient(to_right,hsl(var(--always-black))_78%,transparent_95%)] text-sm whitespace-nowrap w-full [mask-size:100%_100%]",(g||h)&&"[mask-image:linear-gradient(to_right,hsl(var(--always-black))_78%,transparent_95%)]"),children:d})]})}),(h||g||!v)&&(0,s.jsx)("div",{className:(0,f.Z)("absolute right-0 top-1/2 -translate-y-1/2",g||h?"block":"hidden group-hover:block group-focus-within:block"),children:u?"chat"===a&&m?(0,s.jsx)(eh.p,{conversation:m,initialName:(null==d?void 0:d.toString())||"",open:g,onOpenChange:p,trigger:(0,s.jsx)(i.z,{variant:"ghost",className:"active:!scale-100 aria-expanded:!bg-bg-400",size:"icon_sm",onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,s.jsx)(eu.x,{weight:"bold",size:20})})}):"project"===a?y?(0,s.jsx)(eg.j,{project:y,iconSize:20,buttonSize:"icon_sm",open:g,onOpenChange:p}):null:void 0:null})]})})}var ej=t(28803),ev=t(8927);function eb(e){let{offset:a,className:t}=e,{track:l}=(0,O.z$)(),[n,i]=(0,b.useState)(!1),{data:r,isLoading:d}=(0,ej.QR)({limit:ej.V0,starred:!1}),{data:o}=(0,ej.m)();if((0,b.useEffect)(()=>{!d&&(null==r?void 0:r.length)&&i(!0)},[d,r]),!d&&(null==r?void 0:r.length))return(0,s.jsxs)("div",{className:"flex flex-col ",children:[(0,s.jsx)("h3",{className:(0,f.Z)("text-text-300 pb-2 mt-1 text-xs select-none",a,t),children:(0,s.jsx)(N.Z,{defaultMessage:"Recents",id:"wA4FIMmtlS"})}),(0,s.jsx)("ul",{className:"flex flex-col gap-px",children:(0,s.jsx)(ev.M,{children:r.map(e=>(0,s.jsx)(j.E.li,{initial:{opacity:0,height:n?0:"auto"},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:(0,s.jsx)(ef,{href:"/chat/".concat(e.uuid),type:"chat",uuid:e.uuid,size:"sm",onClick:()=>{l({event_key:"claudeai.conversation.recent.opened",conversation_uuid:e.uuid})},conversation:e,children:e.name?e.name:(0,s.jsx)("span",{className:"opacity-60",children:(0,s.jsx)(N.Z,{defaultMessage:"Untitled",id:"3kbIhS7KZS"})})})},e.uuid))})}),o&&o>=ej.V0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ef,{size:"sm",type:"more",href:"/recents",children:(0,s.jsx)(N.Z,{defaultMessage:"All chats",id:"Ug9lgdRJy3"})}),(0,s.jsx)("div",{className:"bg-gradient-to-t from-bg-200 to-transparent sticky h-4 bottom-0 left-0 right-0"})]})]})}function ey(e){let{offset:a,className:t}=e,[l,n]=(0,b.useState)(!1),i=(0,D.U)(),{data:r,isLoading:d}=(0,em.bQ)(),{data:o,isLoading:c}=(0,ej.QR)({starred:!0,limit:ej.V0}),x=i&&d||c;if((0,b.useEffect)(()=>{x||n(!0)},[x]),x)return;let m=null!=o?o:[],h=null!=r?r:[];return(null==h?void 0:h.length)||(null==m?void 0:m.length)?(0,s.jsxs)("div",{className:"flex flex-col mb-6",children:[(0,s.jsx)("h3",{className:(0,f.Z)("text-text-300 flex items-center gap-1.5 text-xs pb-2 select-none",a,t),children:(0,s.jsx)(N.Z,{defaultMessage:"Starred",id:"V7cUPvWFo3"})}),(0,s.jsx)("ul",{className:"-mx-1.5 flex flex-1 flex-col px-1.5 gap-px",children:(0,s.jsxs)(ev.M,{children:[h.map(e=>(0,s.jsx)(j.E.li,{initial:{opacity:0,height:l?0:"auto"},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:(0,s.jsx)(ef,{type:"project",href:"/project/".concat(e.uuid),uuid:e.uuid,size:"sm",CustomIcon:(0,s.jsx)(u,{size:18}),children:e.name})},e.uuid)),m.map(e=>(0,s.jsx)(j.E.li,{initial:{opacity:0,height:l?0:"auto"},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:(0,s.jsx)(ef,{type:"chat",href:"/chat/".concat(e.uuid),uuid:e.uuid,size:"sm",conversation:e,children:e.name?e.name:(0,s.jsx)("span",{className:"opacity-60",children:(0,s.jsx)(N.Z,{defaultMessage:"Untitled",id:"3kbIhS7KZS"})})})},e.uuid))]})})]}):null}let eN="18rem",ew=49;function eC(){let{account:e,activeOrganization:a}=(0,l.t)(),t=(0,w.tm)(),r=(0,y.Z)(),o=(0,D.U)(),[x,h]=(0,b.useState)(!1),{isExpanded:C,setIsExpanded:M,closeSidebarOnMobile:Z,isMobile:z}=(0,ep.S)(),k=(0,g.Q)(m.t6),_=z||k?"0":"3.05rem",S=(0,f.Z)(C?"":"opacity-0 -translate-x-0.5","transition-all duration-200"),P=(0,b.useMemo)(()=>({collapsed:{width:_,transition:{type:"spring",stiffness:950,damping:52,mass:1}},expanded:{width:eN,transition:{type:"spring",stiffness:900,damping:52,mass:1}}}),[_]),E=null==a?void 0:a.capabilities.includes("raven"),R=null==a?void 0:a.capabilities.includes("claude_pro"),O=null==a?void 0:a.capabilities.includes("claude_max");(0,F.i7)();let A=(0,s.jsx)(i.z,{variant:"ghost",className:(0,f.Z)("flex !justify-start !min-w-0 py-5 !px-0.5  w-full",!C&&"hover:!bg-transparent active:!bg-transparent"),"data-testid":"user-menu-button",children:(0,s.jsxs)("div",{className:"flex flex-row flex-grow items-center gap-3 pointer-cursor",children:[a&&(0,s.jsx)(eo,{org:a}),(0,s.jsxs)("div",{className:(0,f.Z)(S,"flex w-full text-sm justify-between items-center font-medium"),children:[(0,s.jsxs)("div",{className:"flex flex-col items-start",children:[null==e?void 0:e.full_name,(0,s.jsx)("span",{className:"text-xs text-text-300 font-normal",children:E?null==a?void 0:a.name:R?(0,s.jsx)(N.Z,{defaultMessage:"Professional plan",id:"hephW2Q72r"}):O?(0,s.jsx)(N.Z,{defaultMessage:"Max plan",id:"yC6ECfKPIQ"}):(0,s.jsx)(N.Z,{defaultMessage:"Free plan",id:"B+7815cfpz"})})]}),(0,s.jsx)(p.p,{className:"mr-2",size:14})]})]})});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(L,{}),(0,s.jsx)(j.E.div,{animate:C?"expanded":"collapsed",style:{width:C?eN:_},className:"fixed z-sidebar lg:sticky",children:(0,s.jsxs)(j.E.nav,{variants:P,initial:!1,animate:C?"expanded":"collapsed",className:(0,f.Z)("h-screen flex flex-col gap-3 pb-2 px-0 fixed top-0 left-0 transition duration-100 border-border-300 border-r-0.5",C&&"shadow-lg !bg-bg-200 lg:shadow-[inset_-4px_0px_6px_-4px_hsl(var(--always-black)/4%)]",x&&"!bg-bg-200"),children:[(0,s.jsxs)("div",{className:(0,f.Z)("flex w-full items-center gap-px p-2",k&&"pl-[90px] pt-3 draggable min-w-fit"),children:[(0,s.jsx)(i.z,{variant:"ghost",size:"icon_sm",onClick:()=>M(!C),className:"group","data-testid":"pin-sidebar-toggle",children:(0,s.jsxs)("div",{className:"relative *:duration-300 ",children:[(0,s.jsx)(d.aK,{className:(0,f.Z)(!k&&[z&&C&&"!opacity-0 scale-80",x&&!z?"opacity-0 scale-80":"opacity-100 scale-100","group-hover:opacity-0"],"group-hover:scale-80 transition-all text-text-300"),size:18}),!k&&(C?(0,s.jsx)(d.G3,{className:(0,f.Z)(z&&C&&"!opacity-100 !scale-100",x?"opacity-100 scale-100":"opacity-0 scale-50","absolute inset-0 group-hover:scale-100 group-hover:opacity-100 transition-all text-text-200"),size:18}):(0,s.jsx)(d.NY,{className:(0,f.Z)(x&&!z?"opacity-100 scale-100":"opacity-0 scale-50","absolute inset-0 group-hover:scale-100 group-hover:opacity-100 transition-all text-text-200"),size:18}))]})}),!k&&C&&(0,s.jsx)(v.default,{href:"/new",className:"flex flex-col justify-start items-top","aria-label":r.formatMessage({defaultMessage:"Home",id:"ejEGdxSUGs"}),children:(0,s.jsx)(n.l,{className:"ml-[3px] h-4 flex-shrink-0 text-text-100"})})]}),(0,s.jsxs)("div",{className:(0,f.Z)("flex flex-col align-center h-full overflow-hidden",z&&S),children:[(0,s.jsxs)("div",{className:"flex flex-col px-2 pt-1 gap-px mb-6",children:[(0,s.jsx)("div",{className:"mb-1",children:(0,s.jsx)(eM,{hideOnCollapse:S,isExpanded:C,isMounted:t,closeSidebarOnMobile:Z,isMobile:z})}),null,o&&(0,s.jsx)(ef,{CustomIcon:(0,s.jsx)(u,{size:18}),href:"/projects",tooltipContent:r.formatMessage({defaultMessage:"Projects",id:"UxTJRaKagI"}),isExpanded:C,children:(0,s.jsx)("div",{className:S,children:(0,s.jsx)(N.Z,{defaultMessage:"Projects",id:"UxTJRaKagI"})})}),(0,s.jsx)(ef,{CustomIcon:(0,s.jsx)(c,{size:18}),href:"/recents",tooltipContent:r.formatMessage({defaultMessage:"Chats",id:"ABAQyoD6zr"}),isExpanded:C,children:(0,s.jsx)("div",{className:S,children:(0,s.jsx)(N.Z,{defaultMessage:"Chats",id:"ABAQyoD6zr"})})}),""]}),(0,s.jsxs)("div",{className:(0,f.Z)(S,"flex flex-grow flex-col overflow-y-auto overflow-x-hidden relative px-2 mb-2"),children:[(0,s.jsx)(ey,{offset:"pl-2",className:(0,f.Z)("sticky top-0 z-10 bg-gradient-to-b from-bg-200 from-50% to-bg-200/40",!C&&"pointer-events-none")}),null,(0,s.jsx)(eb,{offset:"pl-2",className:(0,f.Z)("sticky top-0 z-10 bg-gradient-to-b from-bg-200 from-50% to-bg-200/40",!C&&"pointer-events-none")}),(0,s.jsx)("div",{className:(0,f.Z)("h-full w-full cursor-pointer absolute top-0 z-sidebar",C&&"hidden"),onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),onClick:()=>!z&&M(!C)})]}),(0,s.jsx)("div",{className:"px-2 pb-1",children:(0,s.jsx)(ei,{trigger:A,matchTriggerWidth:!1,className:"w-[17rem] mx-2"})})]})]})}),C&&z&&(0,s.jsx)("div",{className:"fixed bg-transparent z-sidebar top-0 bottom-0 right-0",style:{left:eN},onClick:Z})]})}function eM(e){let{isExpanded:a,hideOnCollapse:t,isMounted:l,closeSidebarOnMobile:n,isMobile:o}=e,c=(0,y.Z)(),u=(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("div",{children:(0,s.jsx)(N.Z,{defaultMessage:"New chat",id:"ATDyLPIoxz"})}),l()&&(0,s.jsx)("span",{className:"text-xs opacity-80",children:(0,x.V5)()?(0,s.jsx)(N.Z,{defaultMessage:"âŒ˜K",id:"cpOWpzUZLg"}):(0,s.jsx)(N.Z,{defaultMessage:"Ctrl+K",id:"ps5nD4m+km"})})]});return(0,s.jsx)(r.u,{delayDuration:0,side:"right",tooltipContent:!a&&!o&&u,disableHoverableContent:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(i.z,{"aria-label":c.formatMessage({id:"ATDyLPIoxz",defaultMessage:"New chat"}),role:"link",variant:"unstyled",href:"/new",onLinkClick:n,className:(0,f.Z)("group transition ease-in-out active:!scale-100 hover:bg-transparent flex !justify-start !min-w-0 w-full",a&&"hover:!bg-accent-main-000/[0.08] active:!bg-accent-brand/15"),children:(0,s.jsxs)("div",{className:"-mx-2 flex flex-row items-center gap-3",children:[(0,s.jsx)("div",{className:"size-4 flex items-center justify-center",children:(0,s.jsx)("div",{className:"p-1.5 group-active:!scale-[0.98] group-active:!shadow-none group-active:bg-accent-main-200 group-hover:-rotate-2 group-hover:scale-105 group-active:rotate-3 rounded-full transition-all ease-in-out bg-accent-main-000 group-hover:shadow-md",children:(0,s.jsx)(d.yc,{size:12,className:"group-hover:scale-105 transition text-always-white"})})}),(0,s.jsx)("div",{className:(0,f.Z)(t,"text-accent-main-100 font-medium text-sm"),children:(0,s.jsx)(N.Z,{defaultMessage:"New chat",id:"ATDyLPIoxz"})})]})})})})}},6415:function(e,a,t){t.d(a,{p:function(){return u}});var s=t(27573),l=t(70354),n=t(52939),i=t(10607),r=t(7653);let d=r.forwardRef((e,a)=>{let{value:t,className:l}=e,n=Math.round(100*Math.min(Math.max(t,0),1));return(0,s.jsx)("div",{ref:a,role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,className:(0,i.Z)("w-full h-1 bg-bg-400 rounded-full overflow-hidden",l),children:(0,s.jsx)("div",{className:"h-full bg-accent-main-100 rounded-full transition-all duration-300 ease-in-out",style:{width:"".concat(n,"%")}})})});d.displayName="Progress";var o=t(40845),c=t(45790);let u=e=>{let{isOpen:a=!1,onClose:t,onConfirm:i,modalTitle:u=(0,s.jsx)(c.Z,{defaultMessage:"Delete chat?",id:"M16o5rLckO"}),modalText:x=(0,s.jsx)(c.Z,{defaultMessage:"Are you sure you want to delete this chat?",id:"eoF+zSJr4t"}),isDeleting:m=!1,progress:h=0}=e,g=(0,r.useCallback)(e=>{"Enter"!==e.key||m||i()},[i,m]);return(0,r.useEffect)(()=>(a&&window.addEventListener("keydown",g),()=>{window.removeEventListener("keydown",g)}),[a,g]),(0,s.jsxs)(n.u_,{title:u,isOpen:a,onClose:t,children:[(0,s.jsx)("div",{className:"mt-1 mb-2",children:x}),m&&h>0&&(0,s.jsx)(d,{value:h}),(0,s.jsxs)(n.dm,{children:[(0,s.jsx)(l.z,{variant:"danger","data-testid":"delete-modal-confirm",onClick:i,disabled:m,children:m?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.t,{className:"inline-block mr-1 animate-spin",size:14}),(0,s.jsx)(c.Z,{defaultMessage:"Deleting...",id:"noZdV2GAKj"})]}):(0,s.jsx)(c.Z,{defaultMessage:"Delete",id:"K3r6DQW7h+"})}),(0,s.jsx)(l.z,{variant:"secondary",onClick:t,children:(0,s.jsx)(c.Z,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})}},15281:function(e,a,t){t.d(a,{b:function(){return x},w:function(){return m}});var s=t(28803),l=t(3053),n=t(27218),i=t(51432),r=t(77930),d=t(23368),o=t.n(d),c=t(81695),u=t(7653);let x=()=>{let e="new-conversation-params-for-navigation",a=(0,r.useQueryClient)(),t=(0,u.useCallback)(()=>{let a=localStorage.getItem(e);if(!a)return{};try{let e=JSON.parse(a);return o()(e,e=>Date.now()-e.created_at<6e4)}catch(a){localStorage.removeItem(e)}return{}},[]);return{prepareNewConversation:(0,u.useCallback)((s,l)=>{let n={created_at:Date.now(),...l};a.setQueryData([e,s],n);let i=t();i[s]=n;try{localStorage.setItem(e,JSON.stringify(i))}catch(e){}},[a,t]),getCreateParamsForConvo:(0,u.useCallback)(s=>{let l=t(),n=a.getQueryData([e,s])||l[s];a.removeQueries({queryKey:[e,s]});let i=o()(l,(e,a)=>a!==s);return localStorage.setItem(e,JSON.stringify(i)),n},[a,t])}};function m(){var e;let a=(0,l.z$)(),{data:t}=(0,s.m)(),{mutateAsync:r}=(0,s.$Y)(),[d,o]=(0,u.useReducer)(i.H,"",i.H),{prepareNewConversation:m}=x(),{account:h}=(0,n.t)(),g=(0,c.useRouter)();return(0,u.useCallback)(async e=>{var s;let{model:l,project_uuid:n,include_conversation_preferences:i,paprika_mode:c,name:u}=e,x=r({uuid:d,name:null!=u?u:"",model:l,project_uuid:n,include_conversation_preferences:i,paprika_mode:c});if(m(d,e),await x,(null==h?void 0:null===(s=h.settings)||void 0===s?void 0:s.has_finished_claudeai_onboarding)===!1){let e=new URLSearchParams;e.append("returnTo","/chat/".concat(d));let a="/onboarding?".concat(e.toString());g.push(a)}else g.push("/chat/".concat(d));return o(),0===t&&await a.track({event_key:"chat.conversation.first_conversation_created",surface:"claude.ai"}),{uuid:d}},[r,d,t,a,g,m,null==h?void 0:null===(e=h.settings)||void 0===e?void 0:e.has_finished_claudeai_onboarding])}},20823:function(e,a,t){t.d(a,{IntercomProvider:function(){return n},o:function(){return i}});var s=t(27573),l=t(66606);function n(e){let{children:a,...t}=e;return(0,s.jsx)(l.H,{...t,children:a})}function i(){return(0,l.o)()}},835:function(e,a,t){t.d(a,{q:function(){return i}});var s=t(27573),l=t(50322),n=t(10607);let i=e=>{let{name:a,size:t="md",variant:i="default"}=e,r=null==a?void 0:a.split(" ").map(e=>0===e.length?"":e[0]).join("").substring(0,2).toLocaleUpperCase();return(0,s.jsx)("div",{className:(0,n.W)("flex shrink-0 items-center justify-center rounded-full font-bold select-none",{"h-4 w-4 text-[7px]":"xs"===t,"h-7 w-7 text-[12px]":"sm"===t,"h-8 w-8 text-[14px]":"md"===t,"h-10 w-10 text-lg":"lg"===t,"h-16 w-16 text-2xl":"xl"===t,"bg-text-200 text-bg-100":"default"===i,"bg-accent-pro-100 text-oncolor-100":"pro"===i,"bg-transparent text-text-300":"cardamom"===i}),children:r||(0,s.jsx)(l.n,{weight:(0,n.W)({regular:"xs"===t||"sm"===t,light:"md"===t,thin:"lg"===t||"xl"===t}),size:(0,n.W)({12:"xs"===t||"sm"===t,20:"md"===t,40:"lg"===t||"xl"===t})})})}},83617:function(e,a,t){t.d(a,{C:function(){return n}});var s=t(27573),l=t(10607);let n=e=>{let{color:a="default",size:t="default",children:n,className:i,uppercase:r}=e;return(0,s.jsx)("div",{className:(0,l.W)("inline-flex items-center align-middle leading-none","default"===a&&"bg-gradient-to-bl  from-bg-500/30  to-bg-500/70 text-text-300","flat"===a&&"bg-bg-500/40 text-text-200","secondary"===a&&"bg-accent-secondary-900/40 text-accent-secondary-200","pro"===a&&"bg-gradient-to-bl  from-accent-pro-200  to-accent-pro-100  text-oncolor-100","main"===a&&"bg-gradient-to-bl  from-accent-main-200/70  to-accent-main-100  text-oncolor-100","default"===t&&"h-5 px-1.5 rounded-md text-[0.625rem]","sm"===t&&"h-4 px-1 rounded text-[0.625rem]","lg"===t&&"h-6 px-2 rounded-lg text-xs",r&&"uppercase tracking-[0.015rem]",i),children:n})}}}]);